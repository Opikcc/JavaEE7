<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
     xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:f="http://java.sun.com/jsf/core">

    <h:head>
        <title>Library Service</title>
    </h:head>
    <h:body style="font-weight:bold;font-family:Palatino">
        <div align='center'>
            <h1> Library </h1>
                 <br></br>
        <img src="Books.png"/>
        <br></br>
        <h:form>
            <h:selectOneMenu value="#{libraryBean.currentGenreName}"  onchange="submit()">
                <f:selectItems value="#{libraryBean.genreNames}" />
            </h:selectOneMenu>
        </h:form>
        <br></br>
        #{libraryBean.getGenreDescriptionFor(libraryBean.currentGenreName)}
        <br></br><br></br>
        <h:dataTable style="font-weight:normal;font-family:Palatino" value="#{libraryBean.books}" var="book">
            
            <h:column rowHeader="Audience">
                <h:graphicImage  value ="#{libraryBean.getIconForBook(book)}" width="32" height="32"></h:graphicImage>
            </h:column>
                
            <h:column rowHeader="Author's name">

                <h:form>
                    <h:link value="#{book.author.lastName}" outcome="author" onclick="#{libraryBean.setCurrentAuthor(book.author)}" > 
                    </h:link>
                </h:form>
            </h:column>
            <h:column rowHeader="Book title">
                    #{book.title}
                </h:column>
                
                <h:column>
                    <h:form>
                    <h:commandButton  value ="x" actionListener="#{libraryBean.deleteBook(book)}"></h:commandButton>
                    </h:form>
                </h:column>
            </h:dataTable>
        <h:form>
            
            <h:commandButton value="Add Book" action="addbook"></h:commandButton>
            <h:commandButton value="Add Author" action="addauthor"></h:commandButton>
        </h:form>
        
        <br/><br/>
        
        </div>
    </h:body>
</html>

